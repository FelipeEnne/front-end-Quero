"use strict";function onOverlay(){document.getElementById("overlay").style.display="block"}function offOverlay(){document.getElementById("overlay").style.display="none"}var myObj,requestURL="https://testapi.io/api/redealumni/scholarships",request=new XMLHttpRequest;request.open("GET",requestURL),request.responseType="json",request.send(),request.onload=function(){myObj=request.response,addOptionCity(),addOptionCourses(),filterAll(),resultsOverlay(),mobileOnload()};var allCitys=["São José dos Campos"];function pushCitys(){for(var e=0;e<myObj.length;e++)-1==allCitys.indexOf(myObj[e].campus.city)&&allCitys.push(myObj[e].campus.city)}function addOptionCity(){pushCitys();for(var e=1;e<allCitys.length;e++){var t=document.createElement("option");t.textContent=allCitys[e],t.value=allCitys[e],document.getElementById("select-city").appendChild(t)}}var allCourses=[];function pushCourses(){for(var e=0;e<myObj.length;e++)-1==allCourses.indexOf(myObj[e].course.name)&&allCourses.push(myObj[e].course.name)}function addOptionCourses(){pushCourses();for(var e=1;e<allCourses.length;e++){var t=document.createElement("option");t.textContent=allCourses[e],t.value=allCourses[e],document.getElementById("select-course").appendChild(t)}}var citySelect,courseSelect,presencialSelect,adistaciaSelect,precoSelect,slider=document.getElementById("myRange"),output=document.getElementById("price");function formatNumber(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1.")}function sortUniversityName(e){e.sort(function(e,t){return e.university.name<t.university.name?-1:e.university.name>t.university.name?1:0})}function filterCidade(){citySelect=document.getElementById("select-city").value}function filterCourse(){courseSelect=document.getElementById("select-course").value}function changePresencial(){presencialSelect=1==presencialSelect?0:1}function changeaDistacia(){adistaciaSelect=1==adistaciaSelect?0:1}function filterPricefirst(){precoSelect=slider.value}function filterAll(){sortUniversityName(myObj),filterCidade(),filterCourse(),filterPricefirst()}output.innerHTML=formatNumber(slider.value),slider.oninput=function(){output.innerHTML=formatNumber(this.value)},adistaciaSelect=presencialSelect=1;var windowWidth=window.innerWidth,screenWidth=screen.width;function mobileOnload(){screenWidth<=425&&(mobileWidthChat(),mobileOverlay(),mobilModal())}function mobileWidthChat(){document.getElementById("myRange");var e=screenWidth/3-2+"px",t=document.getElementsByClassName("footer-chat-mobile");t[0].style.width=e,t[1].style.width=e,t[2].style.width=e}function mobileOverlay(){var e=screenWidth-35+"px";document.getElementsByClassName("overlay-icon")[0].setAttribute("style","margin-left: "+e),document.getElementsByClassName("modal-content")[0].setAttribute("style","width: "+screenWidth+"px")}function mobilModal(){var e=screenWidth-180;document.getElementsByClassName("modal-resultado")[0].setAttribute("style","margin-right: "+e+"px");var t=screenWidth-35;document.getElementsByClassName("hr-modal-first")[0].setAttribute("style","width: "+t+"px");var s=document.getElementsByClassName("hr-modal");s[0].setAttribute("style","width: "+t+"px"),s[1].setAttribute("style","width: "+t+"px"),s[2].setAttribute("style","width: "+t+"px"),s[3].setAttribute("style","width: "+t+"px"),s[4].setAttribute("style","width: "+t+"px")}var resultsIndex=[];function filterResults(){resultsIndex=[],checkboxSelect=[0,0,0,0,0],filterAll(),getIndexAfterFilter(),removeChildModal(),showResultModal(),enableSubmit(),addcheckboxSelect()}function getIndexAfterFilter(){for(var e=0;e<myObj.length;e++)myObj[e].campus.city==citySelect&&(myObj[e].course.name==courseSelect||""==courseSelect)&&myObj[e].price_with_discount<=precoSelect&&("Presencial"==myObj[e].course.kind&&1==presencialSelect&&resultsIndex.push(e),"EaD"==myObj[e].course.kind&&1==adistaciaSelect&&resultsIndex.push(e))}function removeChildModal(){var e=document.getElementById("first-result"),t=document.getElementById("second-result"),s=document.getElementById("third-result"),d=document.getElementById("fourth-result"),l=document.getElementById("fifth-result"),n=document.getElementById("hrcount1"),r=document.getElementById("hrcount2"),i=document.getElementById("hrcount3"),o=document.getElementById("hrcount4"),c=document.getElementById("hrcount5");for(e.hasChildNodes()&&n.remove();e.hasChildNodes();)e.removeChild(e.firstChild);for(t.hasChildNodes()&&r.remove();t.hasChildNodes();)t.removeChild(t.firstChild);for(s.hasChildNodes()&&i.remove();s.hasChildNodes();)s.removeChild(s.firstChild);for(d.hasChildNodes()&&o.remove();d.hasChildNodes();)d.removeChild(d.firstChild);for(l.hasChildNodes()&&c.remove();l.hasChildNodes();)l.removeChild(l.firstChild);counthrID=1}function showResultModal(){!resultsIndex[0]&&0!==resultsIndex[0]||addResultModal("first-result",resultsIndex[0],"checkbox1"),!resultsIndex[1]&&0!==resultsIndex[1]||addResultModal("second-result",resultsIndex[1],"checkbox2"),!resultsIndex[2]&&0!==resultsIndex[2]||addResultModal("third-result",resultsIndex[2],"checkbox3"),!resultsIndex[3]&&0!==resultsIndex[3]||addResultModal("fourth-result",resultsIndex[3],"checkbox4"),!resultsIndex[4]&&0!==resultsIndex[4]||addResultModal("fifth-result",resultsIndex[4],"checkbox5")}function addCheckbox(e,t){var s=document.createElement("div");s.classList.add("modal-reults-margin");var d=document.createElement("label");d.classList.add("container-checkbox"),d.classList.add("modal-reults-margin");var l=document.createElement("input");l.setAttribute("type","checkbox");var n=document.createElement("span");n.classList.add("checkmark-checkbox"),n.setAttribute("id",t),d.appendChild(l),d.appendChild(n),s.appendChild(d),document.getElementById(e).appendChild(s)}function addLogo(e,t){var s=document.createElement("div");s.setAttribute("class","modal-img-width");var d=document.createElement("img");d.setAttribute("class","modal-img");myObj[t].university.name;d.setAttribute("src",myObj[t].university.logo_url),s.appendChild(d),document.getElementById(e).appendChild(s)}function addTextAndBolsa(e,t){var s=document.createElement("div");s.setAttribute("class","modal-title-result-mobile");var d=document.createElement("div");d.setAttribute("class","modal-title-result-div");var l=document.createElement("div");l.setAttribute("class","modal-title-result"),l.innerHTML=myObj[t].course.name,d.appendChild(l);var n=document.createElement("div");n.setAttribute("class","modal-text-result"),n.innerHTML=myObj[t].course.level,d.appendChild(n);var r=document.getElementById(e);s.appendChild(d),(d=document.createElement("div")).setAttribute("class","modal-bolsa"),(l=document.createElement("div")).setAttribute("class","modal-text-bolsa"),l.innerHTML="Bolsa de ";var i=document.createElement("strong");i.setAttribute("class","modal-bold-bolsa"),i.innerHTML=Math.round(myObj[t].discount_percentage)+"%",l.appendChild(i),d.appendChild(l),n=document.createElement("div");var o=document.createElement("strong");o.setAttribute("class","modal-bold-bolsa"),o.innerHTML="R$ "+Math.round(myObj[t].price_with_discount)+"/mês",n.appendChild(o),d.appendChild(n),s.appendChild(d),r.appendChild(s)}var counthrID=1;function addhr(e){var t=document.createElement("hr");t.setAttribute("class","hr-modal"),t.setAttribute("id","hrcount"+counthrID),counthrID++,document.getElementById(e).after(t)}function addResultModal(e,t,s){addCheckbox(e,s),addLogo(e,t),addTextAndBolsa(e,t),addhr(e)}function resultsOverlay(){getIndexAfterFilter(),showResultModal(),addcheckboxSelect()}var checkboxSelect=[0,0,0,0,0],reducer=function(e,t){return e+t};function removeDisable(){document.getElementById("checkbox1").parentNode.childNodes[0].removeAttribute("disabled"),document.getElementById("checkbox2").parentNode.childNodes[0].removeAttribute("disabled"),document.getElementById("checkbox3").parentNode.childNodes[0].removeAttribute("disabled"),document.getElementById("checkbox4").parentNode.childNodes[0].removeAttribute("disabled"),document.getElementById("checkbox5").parentNode.childNodes[0].removeAttribute("disabled")}function checkboxChange1(){(checkboxSelect.reduce(reducer)<=3&&removeDisable(),0==checkboxSelect[0])?(checkboxSelect[0]=1,3<checkboxSelect.reduce(reducer)&&(alert("Pode selecionar apenas 3 bolsas"),document.getElementById("checkbox1").parentNode.childNodes[0].setAttribute("disabled","disabled"),checkboxSelect[0]=0)):checkboxSelect[0]=0;enableSubmit()}function checkboxChange2(){(checkboxSelect.reduce(reducer)<=3&&removeDisable(),0==checkboxSelect[1])?(checkboxSelect[1]=1,3<checkboxSelect.reduce(reducer)&&(alert("Pode selecionar apenas 3 bolsas"),document.getElementById("checkbox2").parentNode.childNodes[0].setAttribute("disabled","disabled"),checkboxSelect[1]=0)):checkboxSelect[1]=0;enableSubmit()}function checkboxChange3(){(checkboxSelect.reduce(reducer)<=3&&removeDisable(),0==checkboxSelect[2])?(checkboxSelect[2]=1,3<checkboxSelect.reduce(reducer)&&(alert("Pode selecionar apenas 3 bolsas"),document.getElementById("checkbox3").parentNode.childNodes[0].setAttribute("disabled","disabled"),checkboxSelect[2]=0)):checkboxSelect[2]=0;enableSubmit()}function checkboxChange4(){(checkboxSelect.reduce(reducer)<=3&&removeDisable(),0==checkboxSelect[3])?(checkboxSelect[3]=1,3<checkboxSelect.reduce(reducer)&&(alert("Pode selecionar apenas 3 bolsas"),document.getElementById("checkbox4").parentNode.childNodes[0].setAttribute("disabled","disabled"),checkboxSelect[3]=0)):checkboxSelect[3]=0;enableSubmit()}function checkboxChange5(){(checkboxSelect.reduce(reducer)<=3&&removeDisable(),0==checkboxSelect[4])?(checkboxSelect[4]=1,3<checkboxSelect.reduce(reducer)&&(alert("Pode selecionar apenas 3 bolsas"),document.getElementById("checkbox5").parentNode.childNodes[0].setAttribute("disabled","disabled"),checkboxSelect[4]=0)):checkboxSelect[4]=0;enableSubmit()}function addcheckboxSelect(){!resultsIndex[0]&&0!==resultsIndex[0]||document.getElementById("checkbox1").setAttribute("Onclick","checkboxChange1();");!resultsIndex[1]&&0!==resultsIndex[1]||document.getElementById("checkbox2").setAttribute("Onclick","checkboxChange2();");!resultsIndex[2]&&0!==resultsIndex[2]||document.getElementById("checkbox3").setAttribute("Onclick","checkboxChange3();");!resultsIndex[3]&&0!==resultsIndex[3]||document.getElementById("checkbox4").setAttribute("Onclick","checkboxChange4();");!resultsIndex[4]&&0!==resultsIndex[4]||document.getElementById("checkbox5").setAttribute("Onclick","checkboxChange5();")}function enableSubmit(){for(var e=0,t=0;t<checkboxSelect.length;t++){if(1==checkboxSelect[t])document.getElementById("adicionarBolsa").removeAttribute("disabled"),e++}0==e&&document.getElementById("adicionarBolsa").setAttribute("disabled","disabled")}var resultsHome=[];function getIndexresultsHome(){for(var e=0,t=0;t<checkboxSelect.length&&(1==checkboxSelect[t]&&(resultsHome.push(resultsIndex[t]),e++),3!=e);t++);}function disablebolsaSubmit(){!resultsHome[0]&&0!==resultsHome[0]||document.getElementById("bolsaSubmit-fist").setAttribute("style","display: block;");!resultsHome[1]&&0!==resultsHome[1]||document.getElementById("bolsaSubmit-second").setAttribute("style","display: block;");!resultsHome[2]&&0!==resultsHome[2]||document.getElementById("bolsaSubmit-third").setAttribute("style","display: block;")}function addHome(e,t){disablebolsaSubmit(),addImageHome(e,t),addUniversityHome(e,t),addCourseHome(e,t),addScoreHome(e,t),addKindHome(e,t),addstartDateHome(e,t),1==myObj[t].enabled&&(addfullPriceHome(e,t),addDiscountPriceHome(e,t),addSubmitButton(e,t)),0==myObj[t].enabled&&(addtextHomeEnabled(e,t),addSubmitButtonEnabled(e,t))}function addresultsHome(){resultsHome=[],offOverlay(),getIndexresultsHome(),removeFromHome(),addHomeAll(),filterResults()}function addImageHome(e,t){var s=document.createElement("div");s.setAttribute("class","img-submit");var d=document.createElement("img");d.setAttribute("class","img-submit-icon");myObj[t].university.name;"Anhembi Morumbi"!=myObj[t].university.name&&"UNICSUL"!=myObj[t].university.name&&"UNIP"!=myObj[t].university.name||d.setAttribute("style","padding-top: 15px;"),d.setAttribute("src",myObj[t].university.logo_url),s.appendChild(d),document.getElementById(e).appendChild(s)}function addUniversityHome(e,t){var s=document.createElement("div");s.setAttribute("class","submit-text-university");var d=myObj[t].university.name;s.innerHTML=d.toUpperCase(),document.getElementById(e).appendChild(s)}function addCourseHome(e,t){var s=document.createElement("div");s.setAttribute("class","submit-text-course");var d=myObj[t].course.name;s.innerHTML=d,document.getElementById(e).appendChild(s)}function addScoreHome(e,t){var s=document.createElement("div");s.setAttribute("class","submit-score");var d=document.createElement("div");d.setAttribute("class","submit-text-score");var l=myObj[t].university.score;d.innerHTML=l,s.appendChild(d);var n=document.createElement("div");n.setAttribute("class","submit-img-star");for(var r=myObj[t].university.score,i=0;i<5;i++)if(1<r){var o=document.createElement("img");o.setAttribute("src","assets/img/star3.png"),n.appendChild(o),r--}else if(.3<r){var c=document.createElement("img");c.setAttribute("src","assets/img/star2.png"),n.appendChild(c),r--}else{var a=document.createElement("img");a.setAttribute("src","assets/img/star1.png"),n.appendChild(a),r--}s.appendChild(n);var u=document.getElementById(e);u.appendChild(s);var m=document.createElement("hr");m.setAttribute("class","submit-hr"),u.appendChild(m)}function addKindHome(e,t){var s=document.createElement("div");s.setAttribute("class","submit-text-kind");var d=myObj[t].course.kind;"EaD"==d&&(d="ENSINO A DISTÂNCIA");var l=myObj[t].course.shift;s.innerHTML=d.toUpperCase()+" • "+l.toUpperCase(),document.getElementById(e).appendChild(s)}function addstartDateHome(e,t){var s=document.createElement("div");s.setAttribute("class","submit-text-startDate");var d=myObj[t].start_date;s.innerHTML="Início das aulas em: "+d;var l=document.getElementById(e);l.appendChild(s);var n=document.createElement("hr");n.setAttribute("class","submit-hr"),l.appendChild(n)}function addfullPriceHome(e,t){var s=document.createElement("div");s.setAttribute("class","submit-text-kind"),s.innerHTML="Mensalidade com o Quero Bolsa:";var d=document.getElementById(e);d.appendChild(s);var l=document.createElement("div");l.setAttribute("class","submit-text-fullPrice");var n=myObj[t].full_price;n=n.toString().replace(".",","),l.innerHTML="R$ "+formatNumber(n),d.appendChild(l)}function addtextHomeEnabled(e,t){var s=document.createElement("div");s.setAttribute("class","submit-text-kind"),s.innerHTML="Bolsa indisponível.";var d=document.getElementById(e);d.appendChild(s);var l=document.createElement("div");l.setAttribute("class","submit-text-Enabled"),l.innerHTML="Entre em contato com nosso atendimento para saber mais.",d.appendChild(l)}function addDiscountPriceHome(e,t){var s=document.createElement("div");s.setAttribute("class","submit-text-discount");var d=document.createElement("div");d.setAttribute("class","submit-text-discountPrice");var l=myObj[t].price_with_discount;l=l.toString().replace(".",","),d.innerHTML="R$ "+formatNumber(l),s.appendChild(d);var n=document.createElement("div");n.setAttribute("class","submit-text-discountPricemes"),n.innerHTML="/mês",s.appendChild(n),document.getElementById(e).appendChild(s)}var idButtonExcluir=1;function addSubmitButton(e,t){var s=document.createElement("div");s.setAttribute("class","submit-button");var d=document.createElement("button");d.setAttribute("class","submit-excluir"),d.setAttribute("id","ButtonExcluir"),d.setAttribute("value",idButtonExcluir),d.setAttribute("Onclick","removeFromHomeButton"+idButtonExcluir+"();"),d.innerHTML="Excluir",s.appendChild(d);var l=document.createElement("button");l.setAttribute("class","submit-Veroferta"),l.innerHTML="Ver oferta",s.appendChild(l),document.getElementById(e).appendChild(s),idButtonExcluir++}function addSubmitButtonEnabled(e,t){var s=document.createElement("div");s.setAttribute("class","submit-button");var d=document.createElement("button");d.setAttribute("class","submit-excluir"),d.setAttribute("id","ButtonExcluir"),d.setAttribute("value",idButtonExcluir),d.setAttribute("Onclick","removeFromHomeButton"+idButtonExcluir+"();"),d.innerHTML="Excluir",s.appendChild(d);var l=document.createElement("button");l.setAttribute("class","submit-Veroferta"),l.setAttribute("disabled","disabled"),l.innerHTML="Indisponível",s.appendChild(l),document.getElementById(e).appendChild(s),idButtonExcluir++}function addHomeAll(){!resultsHome[0]&&0!==resultsHome[0]||addHome("bolsaSubmit-fist",resultsHome[0]),!resultsHome[1]&&0!==resultsHome[1]||addHome("bolsaSubmit-second",resultsHome[1]),!resultsHome[2]&&0!==resultsHome[2]||addHome("bolsaSubmit-third",resultsHome[2])}function removeFromHome(){for(var e=document.getElementById("bolsaSubmit-fist"),t=document.getElementById("bolsaSubmit-second"),s=document.getElementById("bolsaSubmit-third");e.hasChildNodes();)e.removeChild(e.firstChild);for(;t.hasChildNodes();)t.removeChild(t.firstChild);for(;s.hasChildNodes();)s.removeChild(s.firstChild);e.setAttribute("style","display: none;"),t.setAttribute("style","display: none;"),s.setAttribute("style","display: none;"),idButtonExcluir=1}function removeFromHomeButton1(){for(var e=document.getElementById("bolsaSubmit-fist");e.hasChildNodes();)e.removeChild(e.firstChild);e.setAttribute("style","display: none;")}function removeFromHomeButton2(){for(var e=document.getElementById("bolsaSubmit-second");e.hasChildNodes();)e.removeChild(e.firstChild);e.setAttribute("style","display: none;")}function removeFromHomeButton3(){for(var e=document.getElementById("bolsaSubmit-third");e.hasChildNodes();)e.removeChild(e.firstChild);e.setAttribute("style","display: none;")}function filterSemesterall(){var e=document.getElementById("semestresAll"),t=document.getElementById("semestres1"),s=document.getElementById("semestres2");e.setAttribute("class","semestres-text active-semestres-first"),t.setAttribute("class","semestres-text semestres-middle"),s.setAttribute("class","semestres-text semestres-last");for(var d=1;d<resultsHome.length+1;d++){var l=myObj[d].enrollment_semester.toString().substr(-1);if(1==l||2==l){var n=document.getElementById("bolsaSubmit-fist"),r=document.getElementById("bolsaSubmit-second"),i=document.getElementById("bolsaSubmit-third");n.hasChildNodes()&&1==d&&n.setAttribute("style","display: block;"),r.hasChildNodes()&&2==d&&r.setAttribute("style","display: block;"),i.hasChildNodes()&&3==d&&i.setAttribute("style","display: block;")}}}function filterSemester1(){filterSemesterall();var e=document.getElementById("semestresAll"),t=document.getElementById("semestres1"),s=document.getElementById("semestres2");e.setAttribute("class","semestres-text semestres-first"),t.setAttribute("class","semestres-text active-semestres-middle"),s.setAttribute("class","semestres-text semestres-last");for(var d=1;d<resultsHome.length+1;d++){if(1==myObj[d].enrollment_semester.toString().substr(-1)){var l=document.getElementById("bolsaSubmit-fist"),n=document.getElementById("bolsaSubmit-second"),r=document.getElementById("bolsaSubmit-third");l.hasChildNodes()&&1==d&&l.setAttribute("style","display: none;"),n.hasChildNodes()&&2==d&&n.setAttribute("style","display: none;"),r.hasChildNodes()&&3==d&&r.setAttribute("style","display: none;")}}}function filterSemester2(){filterSemesterall();var e=document.getElementById("semestresAll"),t=document.getElementById("semestres1"),s=document.getElementById("semestres2");e.setAttribute("class","semestres-text semestres-first"),t.setAttribute("class","semestres-text semestres-middle"),s.setAttribute("class","semestres-text active-semestres-last");for(var d=1;d<resultsHome.length+1;d++){if(2==myObj[d].enrollment_semester.toString().substr(-1)){var l=document.getElementById("bolsaSubmit-fist"),n=document.getElementById("bolsaSubmit-second"),r=document.getElementById("bolsaSubmit-third");l.hasChildNodes()&&1==d&&l.setAttribute("style","display: none;"),n.hasChildNodes()&&2==d&&n.setAttribute("style","display: none;"),r.hasChildNodes()&&3==d&&r.setAttribute("style","display: none;")}}}